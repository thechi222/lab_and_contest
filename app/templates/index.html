{% load static %}
<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8">
    <title>網頁名稱</title>
    <link rel="stylesheet" href="{% static 'css/index.css' %}">
  </head>
  
<body>
  <!-- 頂部橫幅 -->
  <header>
    網頁名稱
  </header>

  <!-- 下方主要內容 -->
  <main>
    <div class="upload-container">
      <!-- 第一個上傳區 -->
      <label class="upload-box" id="box1">
        <span>上傳圖片 (實體圖)</span>
        <input type="file" accept="image/*" onchange="previewImage(event, 'preview1')">
        <img id="preview1" class="preview" />
      </label>

      <!-- 第二個上傳區 -->
      <label class="upload-box" id="box2">
        <span>上傳圖片 (平面圖)</span>
        <input type="file" accept="image/*" onchange="previewImage(event, 'preview2')">
        <img id="preview2" class="preview" />
      </label>
    </div>

    <!-- 表單區塊 -->
    <div class="form-section">
      <div class="form-item">
        <label>房間總坪數:</label>
        <input type="text">
      </div>
      <div class="form-item">
        <label>長*寬*高:</label>
        <input type="text">
      </div>
      <div class="form-item">
        <label>總預算:</label>
        <input type="text">
      </div>
      <div class="form-item">
        <label>分別預算:</label>
        <input type="text">
      </div>
      <div class="form-item">
        <label>特殊需求:</label>
        <input type="text">
      </div>
      <div class="form-item">
        <label>風格:</label>
        <select>
          <option value="北歐風">北歐風</option>
          <option value="工業風">工業風</option>
        </select>
      </div>
    </div>
  </main>

  <script>
    function previewImage(event, previewId) {
      const file = event.target.files[0];
      displayImage(file, previewId);
    }

    function displayImage(file, previewId) {
      if (file && file.type.startsWith("image/")) {
        const reader = new FileReader();
        reader.onload = function(e) {
          const img = document.getElementById(previewId);
          img.src = e.target.result;
        };
        reader.readAsDataURL(file);
      }
    }

    function enableDragAndDrop(boxId, previewId, inputSelector) {
      const box = document.getElementById(boxId);
      const input = box.querySelector(inputSelector);

      box.addEventListener("dragover", (e) => {
        e.preventDefault();
        box.classList.add("dragover");
      });

      box.addEventListener("dragleave", () => {
        box.classList.remove("dragover");
      });

      box.addEventListener("drop", (e) => {
        e.preventDefault();
        box.classList.remove("dragover");
        const file = e.dataTransfer.files[0];
        if (file) {
          input.files = e.dataTransfer.files; // 更新 input 的檔案
          displayImage(file, previewId);
        }
      });
    }

    // 啟用拖曳功能
    enableDragAndDrop("box1", "preview1", "input[type='file']");
    enableDragAndDrop("box2", "preview2", "input[type='file']");
  </script>
</body>
</html>
